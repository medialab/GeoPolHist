(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),c=(a(79),a(10)),l=a(24),s=a(70),u=a(23),m=a(25),d=a(38),h=a(18),f=a(72),p=a(71),b=(a(80),a(7)),y=a(34),g=a(36),E=a(32),v=a(6),O=a(64),j=a(51),_=a(73),k=a(41),w=a(66),H=a(42),P=a(65),G=a(35),N=a.n(G),x={links:[],entities:[],status:{}},C=Object(n.createContext)({state:x,dispatch:function(e){console.log("not la bonne fonction poto",e)}}),A=Object(k.a)(function(e){return e.GPH_code}),M=function(e,t){var a=new O.MultiMap;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=t[n];if(void 0===i)continue;for(var o=0;o<r.length;o++){var c=r[o];a.set(i,c)}}return a},S=function(e,t){switch(t.type){case"LOADED":var a=t.payload[0],n=t.payload[1],r=a.map(function(e){var t={id:N()(),GPH_code:e.GPH_code,GPH_name:e.GPH_name,continent:e.continent,end_year:new Date(e.end_year),start_year:new Date(e.start_year),status:n[e.GPH_status],sovereign:{GPH_code:e.sovereign_GPH_code,GPH_name:e.sovereign_GPH_name}};return t.status||console.error("unknown link type",e),t}),i=A(r),o=Object(w.a)(function(e,t){var a=Object(H.a)(Object(j.a)(function(e){return Object(y.a)(e.GPH_code,t)}),Object(k.a)(function(e){return e.sovereign.GPH_code||t})),n=Object(H.a)(Object(j.a)(function(e){return Object(y.a)(e.sovereign.GPH_code,t)}),A),o=a(e),c=n(r),l=Object(k.a)(function(e){return e.status.slug},Object(_.a)(Object(v.k)(c)));return{id:t,name:i[t][0].GPH_name,continent:i[t][0].continent,start:Object(v.e)(e,function(e){return e.start_year}),end:Object(v.d)(e,function(e){return e.end_year}),occupations:o,campains:c,campainsMap:l}},i),l=Object(s.a)(function(e){return Object(c.a)({},e,{occupations:M(e.occupations,o),campains:M(e.campains,o)})},o);return r.forEach(function(e){e.sovereign=l[e.sovereign.GPH_code]}),{links:r,entities:Object(v.k)(l),status:n}}return e},D=function(e){return Object(P.action)("LOADED",e)},L=Object(v.c)("./data/GeoPolHist_entities_status_over_time.csv"),B=fetch("./data/GPH_status.json").then(function(e){return e.json()}),z=Promise.all([L,B]),T=function(e){var t=Object(n.useReducer)(S,x),a=Object(b.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)(function(){z.then(Object(H.a)(D,o))},[]),r.a.createElement(C.Provider,{value:{state:i,dispatch:o}},e.children)},F=a(40),W=a.n(F),I=a(67),q=(a(111),function(e,t){return"translate(".concat(e,", ").concat(t,")")}),J=0,R=0,Z=50,Q=0,U=Object(v.j)("%Y"),V=function(e){var t=e.xScale,a=e.data,i=e.nbLines,o=e.colorScale,c=Object(n.useMemo)(N.a,[]),s=e.width-Q-R,u=i*e.lineHeight+J+Z,m=u-J-Z,d=e.hideGroupLabels?0:200,h=m/a.length;t.range([d,s-15]);var f="continent"===e.groupBy?a.reduce(function(e,t){var a=Object(b.a)(t,1)[0];return e.add(a.continent),e},new Set):void 0,p=Object(v.f)().domain([0,i+(f?f.size:0)]).range([0,m]),y=Object(v.b)(t),g=Object(v.a)(t),O=.8*h,j=(h-O)/2,_=Object(n.useState)(),k=Object(b.a)(_,2),w=k[0],H=k[1],P=Object(n.useState)(),G=Object(b.a)(P,2),x=G[0],C=G[1],A=Object(E.a)(function(e){return e.priority+e.GPH_status})(Object(I.a)(a.reduce(function(e,t){var a=Object(b.a)(t,2)[1];return[].concat(Object(l.a)(e),Object(l.a)(a))},[]).reduce(function(e,t){return e[t.status.slug]=t.status,e},{}))).reverse();Object(n.useEffect)(function(){return function(){H(null),C(null)}},[e.data]);var M=0;return r.a.createElement("div",{className:"timelines-container",style:{width:s},onMouseLeave:function(){return H(null)}},r.a.createElement("div",{className:"legend"},r.a.createElement("div",{className:"legend-container"},A.map(function(e){return r.a.createElement("span",{key:e.slug,onClick:function(){x===e.slug?C(null):C(e.slug)},className:W()({"legend-item":!0,"legend-item--hidden":x&&x!==e.slug})},r.a.createElement("div",{className:"colorLegendItem",style:{backgroundColor:o(e.slug)}}),r.a.createElement("span",null,e.GPH_status))})),r.a.createElement("svg",{height:20,width:e.width},r.a.createElement("g",{transform:q(Q,J)},r.a.createElement("g",{transform:q(0,17),ref:function(e){e&&Object(v.i)(e).call(y)}})))),r.a.createElement("div",{className:"timeline"},r.a.createElement("svg",{height:u,width:e.width},r.a.createElement("g",{transform:q(Q,J)},r.a.createElement("defs",null,r.a.createElement("pattern",{id:"diagonalHatch-".concat(c),patternUnits:"userSpaceOnUse",width:"4",height:"4"},r.a.createElement("path",{d:"M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2",style:{stroke:"black",strokeWidth:1}})),r.a.createElement("clipPath",{id:"name-area-".concat(c)},r.a.createElement("rect",{x:0,y:0,height:m,width:d}))),r.a.createElement("g",{transform:q(0,m),ref:function(e){e&&Object(v.i)(e).call(g)}}),r.a.createElement("g",{className:W()({group:!0,has_status:!!x},x)},a.map(function(i,l){var u=Object(b.a)(i,2),m=u[0],h=u[1],f="continent"===e.groupBy&&(0===l||m.continent!==a[l-1][0].continent);return f&&"continent"===e.groupBy&&(M+=1),r.a.createElement(n.Fragment,{key:m.name},"continent"===e.groupBy&&f&&r.a.createElement("g",{key:m.continent,className:"continent",transform:q(0,p(l+M-1))}," ",r.a.createElement("rect",{fill:"#ccc",width:"100%",height:"1.2em"}),r.a.createElement("line",{className:"group-separator",x1:0,x2:s,y1:0,y2:0,stroke:"black",strokeOpacity:.1}),r.a.createElement("text",{x:"50%",textAnchor:"middle",fontSize:"1em",dy:"1em",className:"continentLabel"},m.continent,r.a.createElement("title",null,m.continent))),r.a.createElement("g",{key:m.name,className:m.name,transform:q(0,p(l+M))},r.a.createElement("line",{className:"group-separator",x1:0,x2:s,y1:0,y2:0,stroke:"black",strokeOpacity:.1}),r.a.createElement("text",{className:"entity-label",style:{clipPath:"url(#name-area-".concat(c,")"),cursor:"pointer"},fontSize:"1em",dy:"1em",width:d,onClick:function(){return e.onEntityClick(m.id)}},m.name.length<=22?m.name:m.name.slice(0,22)+"\u2026",r.a.createElement("title",null,m.name)),r.a.createElement("g",null,h.map(function(a){var n,i=(n=a,Math.max(e.intervalMinWidth,t(n.end_year)-t(n.start_year)));return r.a.createElement("g",{key:a.id,transform:q(t(a.start_year),j)},r.a.createElement("rect",{rx:"5",className:W()("link-rect",a.status.slug),onClick:function(){return e.onEntityClick(m.id)},onMouseEnter:function(){return H({link:a,index:l})},fill:isNaN(i)?"url(#diagonalHatch-".concat(c,")"):o(a.status.slug),stroke:w&&w.link===a?"white":"black",strokeOpacity:w&&w.link===a?1:.2,strokeWidth:w&&w.link===a?2:1,width:isNaN(i)?"100%":i,height:O,y:0,x:0}))}))))})))),w&&r.a.createElement("div",{className:"tooltip-container",style:{transform:"translate(".concat(t(w.link.start_year),"px, ").concat(p(w.index)-e.lineHeight,"px)")}},r.a.createElement("span",{className:"tooltip"},w.link.GPH_name," - ",w.link.status.GPH_status," -"," ",U(w.link.start_year)," to"," ",U(w.link.end_year)))))},Y=(a(112),function(e){e.country;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topMenu"},r.a.createElement("span",{className:"appTitle"},r.a.createElement("img",{src:"./GeoPolHist.svg"}),r.a.createElement(u.Link,{to:"/"},"GeoPolHist"))))}),$=Object(h.a)(function(e,t){return e>t}),K=Object(g.a)(function(e,t){return+t.end_year-+t.start_year+e},0),X={duration:Object(h.a)(function(e,t){var a=Object(b.a)(e,2)[1],n=Object(b.a)(t,2)[1];return K(n)-K(a)}),year:Object(h.a)(function(e,t){var a=Object(b.a)(e,2)[1],n=Object(b.a)(t,2)[1];return+$(a.map(function(e){return e.start_year}))[0]-+$(n.map(function(e){return e.start_year}))[0]}),name:Object(E.a)(function(e){return Object(b.a)(e,1)[0].name}),continent:Object(E.a)(function(e){return Object(b.a)(e,1)[0].continent})},ee=Object(h.a)(function(e,t){return e.start_year>t.start_year}),te=function(e){return e.map(function(e){return[e[0],ee(e[1]).reduce(function(e,t){if(e&&0!==e.length){var a=e[e.length-1];if(a.end_year>t.start_year)if(a.status.priority>=t.status.priority){var n=a.end_year;+n===+a.end_year&&+t.end_year===+a.end_year||+n>+t.end_year?console.warn("one overlapping status removed",t):e.push(Object(c.a)({},t,{start_year:n}))}else a.end_year=t.start_year,e.push(Object(c.a)({},t));else e.push(Object(c.a)({},t));return e}return[Object(c.a)({},t)]},[])]})},ae=function(e){var t=e.history,a=e.country,i=Object(n.useCallback)(function(e){t.push("/country/".concat(e))},[t]),o=te(Array.from(a.occupations.associations())),s=te(Array.from(a.campains.associations())),u=Object(n.useMemo)(function(){return[].concat(Object(l.a)(o),Object(l.a)(s))},[o,s]),m=Object(v.e)(u,function(e){return Object(b.a)(e,1)[0].start}),h=Object(v.d)(u,function(e){return Object(b.a)(e,1)[0].end}),f=Object(v.h)().domain([m,h]),p=Object(n.useContext)(C).state,y=Object(v.g)(["#cd7f3d","#af49d8","#65da57","#d84397","#cbe240","#6c6cd4","#a3ca63","#ad63ab","#489046","#d74433","#6cdaaf","#c15b67","#86c5d8","#d8b94f","#6779a8","#787938","#d4a8cc","#4f8178","#cdcea7","#997462"]).domain(Object.keys(p.status).map(function(e){return p.status[e].slug})),g=Object(n.useState)(),E=Object(b.a)(g,2),O=E[0],j=E[1],_=X[O||"year"](s);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Y,{country:a}),r.a.createElement("h1",{className:"stickyTitle"},a.name),r.a.createElement("p",null,"GPH_code : ",a.id),r.a.createElement("h2",null,"Political status"),r.a.createElement(V,{onEntityClick:i,intervalMinWidth:5,data:o,nbLines:a.occupations.dimension,lineHeight:20,width:1e3,xScale:f,colorScale:y}),r.a.createElement("div",null,r.a.createElement("h2",null,"Sovereign of ",a.campains.dimension," entities"),r.a.createElement("span",null,"sort by"," ",r.a.createElement(d.a,{className:"inlineSelect",onChange:function(e){return j(e.value)},defaultValue:{value:"year",label:"first date"},theme:function(e){return Object(c.a)({},e,{borderRadius:5,colors:Object(c.a)({},e.colors,{primary25:"lightgrey",primary:"grey",background:"white",color:"black"})})},isSearchable:!1,options:[{value:"year",label:"first date"},{value:"duration",label:"duration"},{value:"name",label:"entity name"},{value:"continent",label:"continent"}]}))),r.a.createElement(V,{onEntityClick:i,intervalMinWidth:5,data:_,nbLines:a.campains.dimension,lineHeight:20,width:1e3,xScale:f,colorScale:y,groupBy:"continent"===O?"continent":void 0})))},ne=function(e){var t=e.match.params.id,a=Object(n.useContext)(C).state.entities.find(function(e){return Object(y.a)(e.id,t)});return void 0===a?r.a.createElement("div",null,"Loading"):r.a.createElement(ae,Object.assign({},e,{country:a}))},re=a(50),ie=Object(s.a)(function(e){return{value:e.id,label:e.name}}),oe=Object(h.a)(function(e,t){return t.occupations.size-e.occupations.size}),ce=Object(p.a)(0,["campainsMap","col","length"]),le=Object(h.a)(function(e,t){return ce(t)-ce(e)}),se=Object(f.a)(5),ue=function(e){var t=se(oe(e.entities)),a=se(le(e.entities)),n=se(function(e){var t=Object(h.a)(function(e,t){return t.end_year>e.end_year});return Object(h.a)(function(e,t){return t.end>e.end})(e.filter(function(e){return"dis"===t(Object(l.a)(e.occupations.values()))[0].status.slug}))}(e.entities)),i=new Intl.DateTimeFormat("en-GB",{year:"numeric"});return r.a.createElement("div",null,r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"grow"},r.a.createElement("h3",null,"Biggest number of sovereigns"),r.a.createElement("ol",null,t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(u.Link,{to:"/country/".concat(e.id)},e.name," - ",e.occupations.size," sovereigns"))}))),r.a.createElement("div",{className:"grow"},r.a.createElement("h3",null,"Biggest number of colonies"),r.a.createElement("ol",null,a.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(u.Link,{to:"/country/".concat(e.id)},e.name," - ",ce(e)," colonies"))}))),r.a.createElement("div",{className:"grow"},r.a.createElement("h3",null,"Most recently dissolved"),r.a.createElement("ol",null,n.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(u.Link,{to:"/country/".concat(e.id)},e.name," - ",i.format(e.end)))})))))},me=function(e){var t=Object(n.useContext)(C).state,a=Object(n.useCallback)(function(t){e.history.push("/country/".concat(t.value))},[e.history]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("div",{className:"container container--home"},r.a.createElement("h1",null,"Geopolitical entities of the world",r.a.createElement("br",null),"by political status since 1816"),r.a.createElement("p",null,"GeoPolHist is a quantitative tool that focuses on the questions"," ",r.a.createElement("b",null,"\u201cwhat is a country?\u201d")," and"," ",r.a.createElement("b",null,"\u201chow many countries are there in the world?\u201d")," Created from the lists of"," ",r.a.createElement("a",{href:"https://correlatesofwar.org/data-sets/state-system-membership"},"states")," ","and"," ",r.a.createElement("a",{href:"https://correlatesofwar.org/data-sets/colonial-dependency-contiguity"},"dependencies")," ","built by the Correlates of War project, GeoPolHist provides a dataset and visual documentation that identifies the political status of each of the geopolitical entities that existed in the world since 1816. It allows for an approach of the political history of the world based on the dichotomy between sovereign and non-sovereign entities."),r.a.createElement("p",null,"See the ",r.a.createElement(re.HashLink,{to:"#methodology"},"methodology")," and"," ",r.a.createElement(re.HashLink,{to:"#dataset"},"data set")," sections to learn more."),r.a.createElement("h2",{id:"explore"},"Explore Geopolitical entities"),r.a.createElement(d.a,{placeholder:t.entities.length?"Search for a Geopolitical entity":"Still loading",onChange:a,options:ie(t.entities),theme:function(e){return Object(c.a)({},e,{borderRadius:5,colors:Object(c.a)({},e.colors,{primary25:"lightgrey",primary:"grey",background:"white",color:"black"})})}}),t.entities.length?r.a.createElement(ue,{entities:t.entities}):r.a.createElement("p",null,"Data is still loading..."),r.a.createElement("h2",null,"Three periods in the political history of the world since 1816"),r.a.createElement("p",null,"Over the last two centuries, the political situation of the world can be described as a developmental process in three phases during which one ",r.a.createElement("a",{href:"./data/GeoPolHist_status.csv"},"status")," predominated. From 1816 to the Berlin Conference in 1884/85, 14% of the geopolitical entities of the world were sovereign (unrecognized); from 1886 to 1949, 20% were \u2018colony\u2019, \u2018possession or \u2018protectorate\u2019\u2019; since 1950, 16% are \u2018sovereign\u2019 (in the strict sense)."),r.a.createElement("iframe",{title:"GPH status evolutions in 1816,1885,1950 and 2020",src:"./sankey.html"}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("a",{href:"./sankey.html"},"open the diagram in full screen")),r.a.createElement("h2",{id:"methodology"},"Methodology"),r.a.createElement("p",null,"A geopolitical entity is any form of human social community or territory that has been involved in an international or intra-national conflict during the post-Napoleonic period and is also territorially based. These entities are \u201cpolitical\u201d in the Aristotelian sense of the political order, whose ultimate goal is to maintain peace through justice within the entity, while war and conflicts remain a possibility outside the limits of the entity. Throughout the period covered by the GPH database, political entities of the \u201chuman social community\u201d type have taken the form of the tribe, chiefdom, city-state, kingdom, empire, or nation. GPH entities may or may not be sovereign and independent. Political entities of the \u201cterritory\u201d type are made up of uninhabited islands, atolls or reefs."),r.a.createElement("p",null,"The GeoPolHist dataset is fully described in the paper:"," ",r.a.createElement("blockquote",null,"Dedinger, B\xe9atrice, and Paul Girard, \u2018How Many Countries in the World? The Geopolitical Entities of the World and Their Political Status from 1816 to the Present\u2019,"," ",r.a.createElement("i",null,"Historical Methods: A Journal of Quantitative and Interdisciplinary History"),", 0.0 (2021), 1\u201320 <",r.a.createElement("a",{href:"https://doi.org/10.1080/01615440.2021.1939826"},"https://doi.org/10.1080/01615440.2021.1939826"),">",r.a.createElement("span",{className:"Z3988",title:"url_ver=Z39.88-2004&ctx_ver=Z39.88-2004&rfr_id=info%3Asid%2Fzotero.org%3A2&rft_id=info%3Adoi%2F10.1080%2F01615440.2021.1939826&rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&rft.genre=article&rft.atitle=How%20many%20countries%20in%20the%20world%3F%20The%20geopolitical%20entities%20of%20the%20world%20and%20their%20political%20status%20from%201816%20to%20the%20present&rft.jtitle=Historical%20Methods%3A%20A%20Journal%20of%20Quantitative%20and%20Interdisciplinary%20History&rft.volume=0&rft.issue=0&rft.aufirst=B%C3%A9atrice&rft.aulast=Dedinger&rft.au=B%C3%A9atrice%20Dedinger&rft.au=Paul%20Girard&rft.date=2021-07-02&rft.pages=1-20&rft.spage=1&rft.epage=20&rft.issn=0161-5440"}))),r.a.createElement("h2",{id:"dataset"},"GeoPolHist data set"),r.a.createElement("p",null,"The GeoPolHist data set is published under ODbl licence:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"./data/GeoPolHist_status.csv"},"GeoPolHist_status.csv")," - list of political status and their definition;"),r.a.createElement("li",null,r.a.createElement("a",{href:"./data/GeoPolHist_entities.csv"},"GeoPolHist_entities.csv")," ","- list of GPH entities;"),r.a.createElement("li",null,r.a.createElement("a",{href:"./data/GeoPolHist_entities_status_over_time.csv"},"GeoPolHist_entities_status_over_time.csv")," ","- list of GPH entities by political status over time;"))),r.a.createElement("p",null,"The data set is versioned and fully documented in the"," ",r.a.createElement("a",{href:"https://github.com/medialab/GeoPolHist"},"GeoPolHist datapackage repository")),r.a.createElement("p",null," ","To cite the dataset:",r.a.createElement("blockquote",null,"B\xe9atrice Dedinger, & Paul Girard. (2021). GeoPolHist dataset (Version 202103) [Data set]. Zenodo."," ",r.a.createElement("a",{href:"http://doi.org/10.5281/zenodo.4600809"},"http://doi.org/10.5281/zenodo.4600809")),r.a.createElement("a",{href:"https://doi.org/10.5281/zenodo.4600809"},r.a.createElement("img",{src:"https://zenodo.org/badge/DOI/10.5281/zenodo.4600809.svg",alt:"DOI"})))))},de=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null,r.a.createElement(u.HashRouter,{basename:"/GeoPolHist"},r.a.createElement(m.d,{path:"/",exact:!0,component:me}),r.a.createElement(m.d,{path:"/country/:id",component:ne}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){e.exports=a(119)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.d96eab6a.chunk.js.map